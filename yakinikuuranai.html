<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>焼肉10タイプ性格診断</title>
<style>
  body { font-family: sans-serif; padding: 20px; line-height: 1.7; }
  h1 { color: #c0392b; }
  .question-box { margin-top: 30px; padding: 20px; border: 1px solid #ddd; }
  button { padding: 12px 20px; font-size: 16px; margin-top: 20px; }
  #result { margin-top: 40px; padding: 20px; border: 2px solid #c0392b; }
  #progress { font-weight: bold; margin-top: 10px; }
</style>
</head>
<body>

<h1>🔥🍖 コンカフェ嬢　焼肉診断🔥🍖</h1>
<p>あなたはコンカフェ嬢としてどの部位？　10問の質問に答えて</p>

<div id="progress"></div>
<div id="question-area"></div>
<div id="result"></div>

<script>
// =============================
// 質問データ
// =============================
const questions = [
  { q: "Q1. 初回のお客さんが来たときのあなたは？",
    a: ["明るく盛り上げる","落ち着いたトーンで丁寧に案内する","相手の様子を見ながら距離感を調整する","ちょっと緊張しつつも頑張って話す"] },
  { q: "Q2. 常連さんとの距離感は？",
    a: ["ノリよく仲良くなる","自然体でゆっくり距離を縮める","相手のペースに合わせて柔軟に対応","深い話をしがち"] },
  { q: "Q3. 仕事で褒められるポイントは？",
    a: ["明るさ・場の空気作り","安定感・安心感","丁寧さ・気遣い","こだわりや専門性"] },
  { q: "Q4. 逆に注意されがちなポイントは？",
    a: ["勢いで動きすぎる","繊細すぎて疲れやすい","頑固で譲れない部分がある","個性が強すぎて浮くことがある"] },
  { q: "Q5. お客さんが落ち込んでいたらどうする？",
    a: ["全力で元気づける","静かに寄り添って話を聞く","ふわっと癒しモードに入る","論理的に状況整理を手伝う"] },
  { q: "Q6. イベントやチェキ会でのあなたのスタイルは？",
    a: ["テンション高めで盛り上げる","丁寧に一人ひとりと向き合う","独自の世界観で魅せる","自然体で柔らかい雰囲気"] },
  { q: "Q7. あなたの営業スタイルに一番近いのは？",
    a: ["勢いとノリで引っ張る","コツコツ積み上げる堅実型","相手の気持ちを読む柔軟型","深い関係を築くタイプ"] },
  { q: "Q8. 店内でのあなたの立ち位置は？",
    a: ["ムードメーカー","まとめ役・相談役","裏方で支える縁の下の力持ち","マイペース枠"] },
  { q: "Q9. あなたの推しへの接し方は？",
    a: ["全力で愛を伝える","静かに見守る","距離感を大事にする","独特なアプローチをする"] },
  { q: "Q10. 直感で選んでください",
    a: ["ふわふわ（癒し）","カリッ（職人）","とろっ（王道）","コリッ（クセ強）"] }
];

// =============================
// 10タイプ
// =============================
const types = [
  "カルビ","タン","ロース","ハラミ","マルチョウ",
  "ミノ","レバー","シマチョウ","アカセン","センマイ"
];

// =============================
// スコア表（前回作成したもの）
// =============================
const scores = {
  "0-0":[3,0,1,0,1,0,-1,2,0,-1],
  "0-1":[0,3,1,1,0,0,0,-2,-1,2],
  "0-2":[0,0,3,2,1,0,0,-2,-1,1],
  "0-3":[-1,0,0,1,1,0,3,-2,0,2],

  "1-0":[2,0,1,0,0,0,-1,3,1,-2],
  "1-1":[0,2,1,3,1,0,0,-2,-1,0],
  "1-2":[0,1,3,1,2,0,0,-2,-1,0],
  "1-3":[-1,0,0,1,0,1,2,-2,0,3],

  "2-0":[3,0,1,0,1,0,-1,2,0,-2],
  "2-1":[0,3,2,1,0,0,0,-2,-1,1],
  "2-2":[0,0,2,1,3,0,1,-2,-1,0],
  "2-3":[-1,0,0,1,0,3,1,-2,0,2],

  "3-0":[2,0,0,0,-1,0,-1,3,1,-2],
  "3-1":[-1,0,0,1,1,0,3,-2,0,2],
  "3-2":[-1,0,0,1,0,3,1,-2,0,2],
  "3-3":[1,0,0,0,-1,1,-1,2,3,-2],

  "4-0":[3,0,1,0,1,0,-1,2,0,-2],
  "4-1":[0,3,1,0,2,0,1,-2,-1,0],
  "4-2":[0,1,2,1,3,0,0,-2,-1,0],
  "4-3":[-1,0,0,1,0,2,1,-2,0,3],

  "5-0":[2,0,1,0,0,0,-1,3,1,-2],
  "5-1":[0,2,1,3,1,0,0,-2,-1,0],
  "5-2":[1,0,1,0,0,2,-1,-2,3,-1],
  "5-3":[0,1,2,1,3,0,0,-2,-1,0],

  "6-0":[2,0,1,0,-1,0,-1,3,1,-2],
  "6-1":[0,2,1,3,0,0,0,-2,-1,1],
  "6-2":[0,1,3,1,2,0,0,-2,-1,0],
  "6-3":[-1,0,0,1,0,1,3,-2,0,2],

  "7-0":[3,0,1,0,1,0,-1,2,0,-2],
  "7-1":[0,3,2,1,0,0,0,-2,-1,1],
  "7-2":[0,1,2,3,0,1,0,-2,-1,0],
  "7-3":[-1,0,0,0,0,3,1,-2,2,1],

  "8-0":[3,0,1,0,0,0,-1,2,1,-2],
  "8-1":[0,3,1,1,0,0,0,-2,-1,2],
  "8-2":[0,1,2,0,0,0,1,-2,-1,3],
  "8-3":[1,0,1,0,0,2,-1,-2,3,-1],

  "9-0":[0,1,2,1,3,0,0,-2,-1,0],
  "9-1":[-1,0,0,1,0,3,1,-2,0,2],
  "9-2":[3,0,1,0,1,0,-1,2,0,-2],
  "9-3":[1,0,1,0,0,2,-1,-2,3,-1]
};

// =============================
// 状態管理
// =============================
let current = 0;
let totalScore = Array(10).fill(0);

// =============================
// 質問表示
// =============================
function showQuestion() {
  const q = questions[current];
  const remain = 10 - current;

  document.getElementById("progress").innerHTML =
    `残り ${remain} 問`;

  let html = `<div class="question-box"><p>${q.q}</p>`;
  q.a.forEach((text, ai) => {
    html += `<button onclick="answer(${ai})">${text}</button><br>`;
  });
  html += "</div>";

  document.getElementById("question-area").innerHTML = html;
}

// =============================
// 回答処理
// =============================
function answer(ai) {
  const key = `${current}-${ai}`;
  const arr = scores[key];

  for (let i = 0; i < 10; i++) {
    totalScore[i] += arr[i];
  }

  current++;

  if (current >= 10) {
    finish();
  } else {
    showQuestion();
  }
}

// =============================
// 結果表示（ミックス＋ランク判定）
// =============================
function finish() {
  document.getElementById("question-area").innerHTML = "";
  document.getElementById("progress").innerHTML = "";

  // 最大スコアと2番目を取得
  const sorted = totalScore
    .map((v, i) => ({ type: types[i], score: v }))
    .sort((a, b) => b.score - a.score);

  const top = sorted[0];
  const second = sorted[1];

  // ランク判定
  let rank = "並";
  if (top.score >= 20) rank = "特上";
  else if (top.score >= 15) rank = "上";

  // ミックス判定（差が3点以内）
  let resultText = "";

  if (top.score - second.score <= 3) {
    resultText =
      `<h2>${rank} ${top.type} × ${second.type} MIXタイプ！</h2>
       <p>1位：${top.type}（${top.score}pts）<br>
          2位：${second.type}（${second.score}pts）</p>`;
  } else {
    resultText =
      `<h2>${rank} ${top.type}タイプ！</h2>
       <p>スコア：${top.score}pts</p>`;
  }

  document.getElementById("result").innerHTML = resultText;
}

// 初期表示
showQuestion();
</script>

</body>
</html>